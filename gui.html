<html>
    <head>
            <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
            <link rel="stylesheet" type="text/css" href="grid.css">
            <link rel="stylesheet" type="text/css" href="progress.css">
            <script type="text/javascript" src="tab.js"></script>
            <script type="text/javascript" src="Lib/three.js"></script>
            <script type="text/javascript" src="Lib/numeric-1.2.6.js"></script>
            <script type="text/javascript" src="Lib/OrbitControls.js"></script>
            <script type="text/javascript" src="gui.js"></script>
            <script type="text/javascript" src="atom.js"></script>
            <script type="text/javascript" src="MO.js"></script>
            <script type="text/javascript" src="wavefunction.js"></script>
            <script type="text/javascript" src="occupation.js"></script>

        <!--   <script type="text/javascript" src="init.js"></script>--> 
    </head>

    <body>
        <div class='wrapper'>
            <div id='main'>
                <div id='viewer'>
                    <canvas>
                    </canvas>
                </div>
                <div id='panel'>
                    <div id="upPanel">
                        <div class="activeButton" id="button1" onclick="thisTab(1);"></div>
                        <div class="inactiveButton" id="button2" onclick="thisTab(2);"></div>
                        <div class="inactiveButton" id="button3" onclick="thisTab(3);"></div>
                        <div class="inactiveButton" id="button4" onclick="thisTab(4);"></div>
                    </div>
                    <div id="lowPanel">
                        <div id="tab1">
                            <div id="input">
                                
                                <label for="openfile" class="custom-file-upload">
                                        <input type="file" id="openfile" />
                                        upload .xyz
                                </label>
                            </div>
                            <div><textarea placeholder="H 1.0 1.0 1.0" id="xyzText" name="text"  ></textarea> </div>
                        </div>
                        <div id="tab2">2</div>
                        <div id="tab3">3</div>
                        <div id="tab4">4</div>    
                    </div>
                </div>
            </div>
            <div class="meter" id="progressbar"><span style="width: 1%" id="progress"></span></div>
            <div id='affiliation'>
                <div id='controls'>
                    <div class='normalButton' onclick="Calculate();" >  </div>
                    <div class='stopButton' onclick="stop();">  </div>
                    <div></div>
                </div>
                <div id="huoGroup"  onclick="window.open('http://sas.rochester.edu/chm/groups/huo','mywindow');" ></div>
                <div id="UofR"  onclick="window.open('http://rochester.edu','mywindow');"></div>
                <div id="NSF"   onclick="window.open('http://https://www.nsf.gov','mywindow');"></div>
                <!--
                <img src='huoGroup.png'/><img src='UofR.png'/> -->
            </div>
            <div id='footer'>
                <div id = 'status' ></div>
                <div id = 'author'> Developped by <a href="https://github.com/arkajitmandal">@arkajitmandal</a> and <a href="https://github.com/shreifelsaid">@shreifelsaid</a>              
                </div>
                <div id = 'github'>
                    <a id = 'githublink' href="https://github.com/arkajitmandal/ExtendedHuckel"> 
                      @github <!-- <img src='github.png'/>-->
                    </a>
                </div>
            </div>
        </div>


        <script type="text/javascript" >
            document.getElementById("openfile").addEventListener("change", 
            function(){
                var fr = new FileReader();
                fr.onload = function() {
                filelines = this.result.split("\n");
                for (var j=0;j<filelines.length;j++){
                    filelines[j] = filelines[j].replace(/  +/g, ' ');
                    //console.log(filelines)
                }
                let N = parseInt(filelines[0])
                let xyzText = filelines.slice(2,2+N).join("\n");
                document.getElementById("xyzText").value =xyzText;
                try{
                    removeAtoms();
                    removeDensity();
                }
                catch(err){
                    console.log("Error Happend!")
                }
                showatoms();
                //try{showatoms();}catch(err){}
                
                }

                fr.readAsText(this.files[0]);
                }
            )
        </script>
    </body>

</html>